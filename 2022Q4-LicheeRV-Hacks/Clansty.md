# 基于 Docker 的自建各种发行版软件源构建系统

## 参与人

GitHub：[@Clansty](https://github.com/clansty)

## 项目背景

[凌莞的 Archlinux 软件源](https://pacman.ltd) 已经在去年和今年的上半年迭代了两个版本，基于~~（白嫖）~~ GitHub Actions 构建。虽然现在看起来比较完善，包也很多，但是时不时会出一些小 bug，包或者源不可用等问题。以及现在的项目架构已经不太能维护，并且每次调试都需要等待很长时间。

## 项目目标

完全重构凌莞源的构建系统和仓库主页，使用 NodeJS 设计主控程序，控制本地或基于 SSH 的 Docker 构建软件包，并加入仓库。设计上准备使本套系统不捆绑于 Archlinux，并且通过修改配置文件就可以给别人使用。仓库主页不仅能显示包的状态，还可以显示构建机的实时状态。

## 预期成果

- 完全重构的凌莞源 3.0
- 支持 Archlinux，Manjaro，Ubuntu，Debian，Deepin 等系统的构建机基础镜像
- 确保（明明产物不架构通用的）any 包在每个架构上都正常工作的机制
- 实时及编译后的日志查询支持
- 对 Patch 现有 AUR 包的支持
- 多种源部署方案（文件夹，对象存储，OneDrive 等），并且一次发布部署到多个镜像

## 预期时间表

目前（2022/11/22）第一期计划已经进行到了一半

- 第一期：2022 年 11 月底或 12 月初，完成对基于 AUR 构建 Archlinux 软件包并发布的完整支持
- 第二期：2022 年 12 月底或 1 月，完成可移植性优化，多系统支持，项目文档；完整的「预期结果」支持

## 成果展示

项目仓库（WIP）：<https://github.com/Clansty/Needy-Builder-Overdose>


